<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <changeSet id="001-create-reservation-table" author="danilo.cerovic">

        <sql>
            CREATE TABLE reservation
            (
                id                  BIGSERIAL PRIMARY KEY,

                employee_id         BIGINT      NOT NULL,
                room_id             BIGINT      NOT NULL,

                start_time          TIMESTAMP   NOT NULL,
                end_time            TIMESTAMP   NOT NULL,

                reservation_status  VARCHAR(50) NOT NULL,
                reservation_purpose VARCHAR(50) NOT NULL,

                subject             VARCHAR(255),
                semester            INT,
                class_type          VARCHAR(50),
                exam_type           VARCHAR(50),

                meeting_name        VARCHAR(255),
                meeting_description VARCHAR(1000),

                event_name          VARCHAR(255),
                event_description   VARCHAR(1000),

                created_at          TIMESTAMP   NOT NULL
            );

            CREATE INDEX idx_reservation_employee_id ON reservation (employee_id);
            CREATE INDEX idx_reservation_room_time ON reservation (room_id, start_time, end_time);
        </sql>
    </changeSet>

</databaseChangeLog>